@using MS.Core.Language;
@using MS.Business;
@using MS.Web.Models.Others;
@using MvcContrib.UI.Grid;
@using MS.Web.Code.LIBS;

@model List<tblImage>
@{
    ViewBag.Title = @Resource_tr_TR.UploadImages;
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
@section HeadContent {
    @Styles.Render("~/Areas/Admin/Content/css/uploadfile.css",
            "~/Areas/Admin/Content/css/FileUpload.css",
                        "~/Areas/Admin/Content/bootstrap-switch.css",
                     "~/Areas/Admin/Content/dataTables.bootstrap.css",
                                             "~/Areas/Admin/Content/css/select2.css",
                                                     "~/Areas/Admin/Content/css/select2-bootstrap.css")
}
<section class="content-header">
    <h1>@Resource_tr_TR.UploadImage</h1>
</section>

<section class="content">
    <div class="row">
        <div class="col-xs-12">
            @Html.Partial("_AdminNotification")
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">
                        <a data-toggle="modal" href="@Url.Action("addedit")" data-target="#modal-create-edit-Image" class="btn bg-orange">
                            @Resource_tr_TR.AddNew <i class="fa fa-plus"></i>
                        </a>
                    </h3>
                </div><!-- /.box-header -->
                <div class="box-body table-responsive">
                    @Html.Grid(Model).Columns(column =>
                    {
                        column.For(a => (a.ImageDirectory > 0 ? "<img src='" + a.Image.Replace("http://", "https://") + "' style=\"Width:100px\" />" : "<img src='" + a.Image.Replace("http://", "https://") + "' style=\"Width:100px\" />")).Named(Resource_tr_TR.Image).Attributes(@class => "width10p").Encode(false);
                        column.For(a => (a.ImageDirectory > 0 ? MS.Web.Code.LIBS.EnumHelper.GetDescription((ImageFolder)a.ImageDirectory): "DemoImagefile")).Named(Resource_tr_TR.ImagePath).Attributes(@class => "width10p").Encode(false);
                        column.For(a => (a.ImageDirectory > 0 ? "<a target=\"_blank\" href=\"" + Url.Content(a.Image) + "\">" + (a.Image) + " </a>":"<a target=\"_blank\" href=\"" + Url.Content(a.Image) + "\">" + (a.Image) + " </a>")).Attributes(@class => "width15p")
                                       .Named(Resource_tr_TR.ImagePath).Encode(false);
                        column.For(a => (String.IsNullOrEmpty(a.PromoNo) == false ? MS.Web.Code.LIBS.EnumHelper.GetDescription(a.PromoNo) : "-")).Named(Resource_tr_TR.CampaignNo).Attributes(@class => "width10p").Encode(false);
                        
                        column.For(a => " <a class=\"btn btn-danger btn-sm\" href=\"" + Url.Action("delete", new { id = a.id }) + "\" data-target=\"#modal-delete-Image\" data-toggle=\"modal\">" + Resource_tr_TR.Delete + " <i class=\"fa fa-trash-o\"></i></a>").Attributes(@class => "width15p")
                                        .Named(Resource_tr_TR.Operations).Encode(false);
                    }).Attributes(@id => "grid-Image", @class => "table table-bordered table-hover")
                </div>
            </div>
        </div>
    </div>
    @Html.Partial("_Modal", new Modal { ID = "modal-create-edit-Image", AreaLabeledID = "modal-create-edit-Image-label", Size = ModalSize.Medium })
    @Html.Partial("_Modal", new Modal { ID = "modal-delete-Image", AreaLabeledID = "modal-delete-Image-label" })
    @Html.Partial("_Modal", new Modal { ID = "modal-add-photos", AreaLabeledID = "modal-add-photos-label", Size = ModalSize.Medium })
   
   
</section>


@section ScriptContent{
    @Scripts.Render(
"~/Areas/Admin/Script/jquery.dataTables.js",
        "~/Areas/Admin/Script/dataTables.bootstrap.js",
          "~/Areas/Admin/Script/global.js",
             "~/Scripts/jquery.uploadfile.js",
          "~/Areas/Admin/Script/bootstrap-switch.js",
           "~/Scripts/select2.js",
                  "~/Areas/Admin/Script/views/Imagefile-index.js")

}


